{"version":3,"file":"roles-f1bb8d93.js","sources":["../../../src/routes/roles.tsx"],"sourcesContent":["export default function Roles() {\n  const request = {\n    method: \"GET\",\n    path: \"/api/v1/photos\",\n  };\n\n  const user = {\n    name: \"Kosio\",\n    roles: [\"guest\"],\n    // roles: [\"admin\"],\n  };\n\n  const roles = [\n    {\n      role: \"guest\",\n      access: [\n        [\"GET\", \"^\\\\/api\\\\/v1\\\\/photos\\\\/*$\"],\n        [\"GET\", \"/api/v1/settings\"],\n      ],\n    },\n    {\n      role: \"admin\",\n      access: [[\"GET\", \"/api/*\"]],\n    },\n  ];\n\n  const kosio = /asdasd/;\n  console.log(kosio);\n\n  const hasAccess = user.roles.some((userRole) => {\n    const access = roles.find((roles) => roles.role === userRole);\n    return access?.access.some((access) => {\n      return (\n        request.method === access[0] && new RegExp(access[1]).test(request.path)\n      );\n    });\n  });\n\n  return (\n    <main class=\"text-center mx-auto text-gray-700 p-4\">\n      {hasAccess ? \"Access\" : \"No access\"}\n    </main>\n  );\n}\n"],"names":["Roles","request","method","path","user","name","roles","role","access","console","log","hasAccess","some","userRole","find","RegExp","test","_el$","_tmpl$","_$insert"],"mappings":"waAAe,SAASA,GAAQ,CAC9B,MAAMC,EAAU,CACdC,OAAQ,MACRC,KAAM,kBAGFC,EAAO,CACXC,KAAM,QACNC,MAAO,CAAC,OAAO,GAIXA,EAAQ,CACZ,CACEC,KAAM,QACNC,OAAQ,CACN,CAAC,MAAO,4BAA4B,EACpC,CAAC,MAAO,kBAAkB,CAAC,CAE/B,EACA,CACED,KAAM,QACNC,OAAQ,CAAC,CAAC,MAAO,QAAQ,CAAC,CAC5B,CAAC,EAIHC,QAAQC,IADM,QACG,EAEjB,MAAMC,EAAYP,EAAKE,MAAMM,KAAMC,GAClBP,EAAMQ,KAAMR,GAAUA,EAAMC,OAASM,CAAQ,GAC7CL,OAAOI,KAAMJ,GAExBP,EAAQC,SAAWM,EAAO,CAAC,GAAK,IAAIO,OAAOP,EAAO,CAAC,CAAC,EAAEQ,KAAKf,EAAQE,IAAI,CAE1E,CACF,EAED,OAAA,IAAA,CAAA,MAAAc,EAAAC,IAAAC,OAAAA,EAAAF,EAEKN,EAAY,SAAW,WAAW,EAAAM,CAAA,IAGzC"}