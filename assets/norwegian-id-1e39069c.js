import{u as O,s as Q,m as U,t as _,d as P,a as w,b as X,i as f,c as b,M as C,e as p,f as Z,F as ee,S as te,g as G}from"./index-ce7332b0.js";const ne=_(`<div class="flex flex-col rounded-md shadow relative w-[10em] m-1"><input type="text" maxlength="11"><button type="button" class="group peer absolute right-0 top-0 bottom-0 justify-center items-center w-[2em] rounded-r-md font-bold bg-blue-500 text-white hover:bg-blue-600 "><span class="inline-block relative before:content-['🗋'] before:absolute mr-[0.25em] before:bottom-[0.3em] before:-right-[0.3em] before:bg-blue-500 group-hover:before:bg-blue-600 before:leading-[1em]">🗋</span></button><div class="bg-black bg-opacity-60 rounded-lg inline-block p-1 text-white absolute bottom-full mb-1 peer-focus:visible invisible transition-all duration-1000 ease-out">Copied!`);function E(e){let t;const u=()=>{t.select(),navigator.clipboard.writeText(t.value)};return(()=>{const l=ne(),o=l.firstChild,s=o.nextSibling;o.addEventListener("focus",()=>t.select());const d=t;return typeof d=="function"?O(d,o):t=o,Q(o,U({get readOnly(){return e.readOnly},get value(){return e.value}},e,{get class(){return`py-1 px-2 w-full border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono ${e?.class??""}`}}),!1,!1),s.$$click=u,l})()}P(["click"]);var y=(e=>(e.Male="male",e.Female="female",e))(y||{});function re(e){const t=Number(e.slice(6,9))>=500?100:0,u=Number(e.slice(0,2)),l=Number(e.slice(2,4))-1,o=1900+t+Number(e.slice(4,6)),s=Number(e.slice(8,9))%2===0?"female":"male";return{birthday:new Date(o,l,u),gender:s}}function z(e){if(!e)return;if(e.length!==11)return"";const t=e.slice(0,9);return`${t}${M(t).join("")}`}function M(e){function t(o,s){return(11-o.split("").reduce((a,$,i)=>a+s[i]*parseInt($),0)%11)%11}const u=t(e,[3,7,6,1,8,9,4,5,2]),l=t(`${e}${u}`,[5,4,3,2,7,6,5,4,3,2]);return[u,l]}function h(e,t){const u=e.getFullYear()>=2e3?500:0,l=Math.floor(500*Math.random())+u,o=(i,x)=>{if(x==="male")return i%2!==0?i:i-1;if(x==="female")return i%2===0?i:i-1},s=[e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}).replaceAll("/",""),String(t?o(l,t):l).padStart(3,"0")].join(""),[d,a]=M(s);return d<10&&a<10?`${s}${d}${a}`:h(e,t)}const le=_('<textarea class="w-full py-1 px-2 rounded-md max-h-[calc(100vh-16rem)] resize-none font-mono">'),oe=_('<textarea class="w-full py-1 px-2 rounded-md h-[calc(100vh-16rem)] resize-none font-mono">'),ae=_('<main class="container mx-auto p-4"><div class="flex justify-center my-10 text-3xl"><button type="button" class="p-1 w-8"></button><input type="date" class="invisible w-0"><button type="button" class="p-1">📅</button></div><div class="mt-4"><div class="flex gap-3 mb-4">More...<input type="range" min="0" max="1000" class="w-full"><label>📋<input type="checkbox" class="hidden"></label><label>💡<input type="checkbox" class="hidden"></label></div><div class="flex flex-wrap justify-left gap-3">');let c=function(e){return e.Input="input",e.Text="text",e.Source="source",e}({});function se(){const e=(r={from:new Date(1900,1,1),to:new Date})=>new Date(r.from.getTime()+Math.random()*(r.to.getTime()-r.from.getTime())),[t,u]=w(c.Input),[l,o]=w(0),[s,d]=w(e()),[a,$]=w(),[i,x]=w(h(s(),a()));X(()=>{x(h(s(),a()))});const V=r=>{const{birthday:g,gender:m}=re(r);$(m),d(g),x(r)},B=()=>{const r=[void 0,y.Male,y.Female],g=(r.indexOf(a())+1)%3;$(r[g])},R=()=>{const r=z(i());return i()===r?"Valid":`Invalid${r?` (number should be ${r})`:""}`};let S;return(()=>{const r=ae(),g=r.firstChild,m=g.firstChild,v=m.nextSibling,W=v.nextSibling,Y=g.nextSibling,N=Y.firstChild,q=N.firstChild,k=q.nextSibling,I=k.nextSibling,H=I.firstChild,D=H.nextSibling,T=I.nextSibling,J=T.firstChild,j=J.nextSibling,K=N.nextSibling;m.$$click=()=>B(),f(m,()=>a()===void 0&&"⚤",null),f(m,()=>a()===y.Male&&"♂️",null),f(m,()=>a()===y.Female&&"♀️",null);const A=S;return typeof A=="function"?O(A,v):S=v,v.addEventListener("change",n=>n.target.value&&d(new Date(n.target.value))),W.$$click=()=>S.showPicker(),f(g,b(E,{get value(){return i()},class:"ring-2 ring-green-500 invalid:ring-red-500",onChange:n=>V(n.target.value),get title(){return R()},get pattern(){return z(i())}}),null),k.$$input=n=>o(Number(n.target.value)),D.$$input=n=>u(n.target.checked?c.Text:c.Input),j.$$input=n=>u(n.target.checked?c.Source:c.Input),f(K,b(te,{get children(){return[b(C,{get when(){return t()===c.Text},get children(){const n=le();return f(n,()=>Array.from({length:l()},()=>h(e(),a())).join(`
`)),p(()=>Z(n,"rows",l())),n}}),b(C,{get when(){return t()===c.Input},get children(){return b(ee,{get each(){return Array.from(Array(l()).keys())},children:()=>b(E,{readOnly:!0,get value(){return h(e(),a())}})})}}),b(C,{get when(){return t()===c.Source},get children(){const n=oe();return f(n,()=>`${h.toString()} 
 ${M.toString()}`),n}})]}})),p(n=>{const L=`border rounded px-2 cursor-pointer w-10 text-center ${t()===c.Text?"bg-blue-600 text-white":""}`,F=`border rounded px-2 cursor-pointer w-10 text-center ${t()===c.Source?"bg-blue-600 text-white":""}`;return L!==n._v$&&G(I,n._v$=L),F!==n._v$2&&G(T,n._v$2=F),n},{_v$:void 0,_v$2:void 0}),p(()=>v.value=s().toLocaleDateString("en-CA")),p(()=>k.value=l()),p(()=>D.checked=t()===c.Text),p(()=>j.checked=t()===c.Source),r})()}P(["click","input"]);export{c as View,se as default};
